var $ = require('jquery');
var BaseValidator = require('./basevalidator.js');

module.exports = class WhitelistValidator extends BaseValidator {
	/*
	*  Validate against a set of allowed values.
	*
	*  Settings:
	*    * wl = The whitelist to use.  (array)
	*/
	constructor(...args) {
		super(...args);
		this.chk_settings(['wl']);
	}

	validate(selector) {
		var ret = true;
		var wl = this.settings.wl;
		selector.query.each(function() {
			if (!wl.includes($(this).val())) {
				ret = false;
				return false;
			}
		});
		return ret;
	}
}
